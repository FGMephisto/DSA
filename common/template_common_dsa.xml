<?xml version="1.0" encoding="iso-8859-1"?>

<root version="2.0">
	<template name="filter">
		<stringcontrol>
			<frame>
				<name>searchframe</name>
				<offset>37,45,3,12</offset>
			</frame>
			<font>sheettext</font>
			<script file="scripts/template_filter_dsa.lua" />
		</stringcontrol>
	</template>
	
		<template name="filtertrigger">
			<genericcontrol>
				<icon>search_icon</icon>
				<widgetposition>
					<anchor>bottomleft</anchor>
					<offsetx>5</offsetx>
					<offsety>-5</offsety>
				</widgetposition>
				<script>
					function onInit()
						window[target[1]].setVisible(false);
					end
					
					function onClickDown(button, x, y)
						if button == 1 then
							setVisible(false);
							window[target[1]].setVisible(true);
							window[target[1]].setFocus();
						elseif button == 2 then
							window[target[1]].setValue("");
						end
	
						return true;
					end
					
					function updateWidget(state)
						if widget and not state then
							widget.destroy();
							widget = nil;
						elseif not widget and state then
							widget = addBitmapWidget("indicator_checkon");
							widget.setPosition(widgetposition[1].anchor[1], widgetposition[1].offsetx[1], widgetposition[1].offsety[1]);
						end
					end
				</script>
			</genericcontrol>
	</template>
	
		<template name="linkstringfield">
			<stringfield>
				<underlineoffset>-3</underlineoffset>
				<nodrag />
				<script file="scripts/template_linkstringfield_dsa.lua" />
			</stringfield>
	</template>
	
		<template name="staticlinkstringfield">
			<stringfield>
				<underlineoffset>-3</underlineoffset>
				<nodrag />
				<static />
				<script file="scripts/template_staticlinkstringfield_dsa.lua" />
			</stringfield>
		</template>
		
		<template name="staticlinkstringcontrol">
			<stringcontrol>
				<underlineoffset>-3</underlineoffset>
				<nodrag />
				<static />
				<script file="scripts/template_staticlinkstringfield_dsa.lua" />
			</stringcontrol>
	</template>
	
		<template name="labeledstring">
			<stringfield>
				<font>sheettext</font>
				<frame>
					<name>textline</name>
				</frame>
				<script>
					labelwidget = nil;
				
					function onInit()
						labelwidget = addTextWidget("sheetlabelinline", string.upper(label[1]));
						
						local w,h = labelwidget.getSize();
						labelwidget.setPosition("bottomleft", w/2, h/2-5);
					end
				</script>
			</stringfield>
	</template>
	
	<template name="linkednumber">
		<numberfield>
			<source mergerule="resetandadd" />
			<script file="scripts/template_linkednumber_dsa.lua" />
		</numberfield>
	</template>
	
</root>